<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <link href="../css.css" rel="stylesheet">
</head>
<body>
  <div class="wrapper">
    <h3>## async function</h3>
    <pre>
      <code>
        promiseをもう少しわかりやすくしたのが async function

        class Thenable {
          constructor(num) {
            this.num = num;
          }
          then(resolve, reject) {
            alert(resolve); // function() { native code }
            // 1000ms 後に this.num*2 で解決する
            setTimeout(() => resolve(this.num * 2), 1000); // (*)
          }
        };

        async function func() {
          // 1秒待って、結果は 2　になる
          let result = await new Thenable(1);
          alert(result);
        }

        func();
        
        async functionの中にawaitを入れないと警告がでる

        await は通信が終わるまで待ってくれる

        順番に関係なく処理する場合はawaitを入れない
      </code>
    </pre>
  </div>
  <script src="index.js"></script>
</body>
</html>