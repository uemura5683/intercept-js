<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <link href="css.css" rel="stylesheet">
  <style type="text/css">
    pre {
        background: #1d1d1d;
        color: #fff;
        padding: 1rem;
        line-height: 1.6;
        border: 1px solid #1d1d1d;
        border-radius: .5rem;
    }
    pre code {
        font-size: inherit;
        color: inherit;
        word-break: normal;
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <h3>## 指定したミリ秒(ms)の間、実行をブロックする同期処理<br>これは同期処理です。</h3>
    <pre>
      <code>
        function blockTime(timeout) {
          const startTime = Date.now();
          // `timeout`ミリ秒経過するまで無限ループをする
          while (true) {
              const diffTime = Date.now() - startTime;
              if (diffTime >= timeout) {
                  alert('終了です');
                  return; // 指定時間経過したら関数の実行を終了
              }
          }
        }  
        blockTime(5000) // 5秒処理を止める
      </code>
    </pre>
  </div>
  <script type="text/javascript">
    function blockTime(timeout) {
      const startTime = Date.now();
      // `timeout`ミリ秒経過するまで無限ループをする
      while (true) {
          const diffTime = Date.now() - startTime;
          if (diffTime >= timeout) {
              alert('終了です');
              return; // 指定時間経過したら関数の実行を終了
          }
      }
    }

    blockTime(5000) // 5秒処理を止める
  </script>
</body>
</html>